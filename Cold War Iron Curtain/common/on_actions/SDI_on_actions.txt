on_actions = {
	on_startup = {
		effect = {
			USA = {
				set_variable = {
					sdiFunds = 0
				}
				set_variable = {
					sdiProgress = 0
				}
				clamp_variable = {
					var = sdiProgress
					min = 0
					max = 100
				}
			}
		}
	}
	on_monthly = {
		effect = {
			if = {
				limit = {
					date > 1985.11.25
				}
				USA = {
					country_event = USA80.7
				}
			} # LUCASFILM sues
			if = {
				limit = {
					USA = {
						has_completed_focus	= USA80MIL_finish_final_report
						NOT = {
							has_country_flag = SDI_final_focus_check
						}
					} 
				}
				set_country_flag = SDI_final_focus_check
			}
			if = {
				limit = {
					USA = {
						has_completed_focus	= USA80MIL_finish_final_report
					}
					check_variable = { var = sdiProgress value = 100 compare = less_than }
				}
				set_country_flag = SDI_project_failed
			}
			if = {
				limit = {
					USA = {
						has_tech = plastics_IV
						NOT = {
							has_country_flag = SDI_plastics_check
						}
					}
				}
				USA = {
					set_country_flag = SDI_plastics_check
				}
				add_to_variable = {
					sdiProgress = 1
				}
			}
			if = {
				limit = {
					check_variable = { var = sdiProgress value = 99 compare = greater_than }
				}
				USA = {
					set_country_flag = SDI_FINISHED
				}
			}
			if = {
				limit = {
					USA = {
						has_country_flag = SDI_FINISHED
						has_country_flag = SDI_final_focus_check
					}
				}
				#SUCEED CODE
			}
			if = {
				limit = {
					USA = {
						has_country_flag = SDI_final_focus_check
						has_country_flag = SDI_project_failed
					}
				}
				# FAILURE CODE
			}
			if = {
				limit = {
					USA = {
						has_tech = materials_VI
						NOT = {
							has_country_flag = SDI_materials_check
						}
					}
				}
				USA = {
					set_country_flag = SDI_materials_check
				}
				add_to_variable = {
					sdiProgress = 1
				}
			}
			if = {
				limit = {
					USA = {
						has_tech = aam_long_range_4
						NOT = {
							has_country_flag = SDI_aam_check
						}
					}
				}
				USA = {
					set_country_flag = SDI_aam_check
				}
				add_to_variable = {
					sdiProgress = 1
				}
			}
			if = {
				limit = {
					USA = {
						has_tech = broadband_internet
						NOT = {
							has_country_flag = SDI_broadband_check
						}
					}
				}
				USA = {
					set_country_flag = SDI_broadband_check
				}
				add_to_variable = {
					sdiProgress = 1
				}
			}
			if = {
				limit = {
					USA = {
						has_tech = hardware_XIII
						NOT = {
							has_country_flag = SDI_hardware_check
						}
					}
				}
				USA = {
					set_country_flag = SDI_hardware_check
				}
				add_to_variable = {
					sdiProgress = 1
				}
			}
			if = {
				limit = {
					USA = {
						has_tech = civil_engineering_X
						NOT = {
							has_country_flag = SDI_civil_engineering_check
						}
					}
				}
				USA = {
					set_country_flag = SDI_civil_engineering_check
				}
				add_to_variable = {
					sdiProgress = 1
				}
			}
			### NEEDS MORE
		}
	}
	on_yearly = {
		effect = {
			if = {
				limit = {
					USA = {
						has_completed_focus = USA80MIL_Begin_Star_Wars_Development
					}
				}
				## progress maluses for each year they dont have certain techs
			}
		}
	}

}